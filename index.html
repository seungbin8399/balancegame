<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>밸런스 게임 랜덤 뽑기</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      text-align: center;
      padding: 20px;
      background: #f4f4f4;
    }
    h1 {
      font-size: 2rem;
      margin-bottom: 10px;
      color: #333;
    }
    .buttons {
      margin: 20px 0;
    }
    button {
      padding: 10px 20px;
      font-size: 1.1rem;
      cursor: pointer;
      border: none;
      border-radius: 8px;
      background-color: #4CAF50;
      color: white;
      margin: 5px;
      transition: background 0.3s ease;
    }
    button:hover {
      background-color: #45a049;
    }
    .question-box {
      margin-top: 20px;
      padding: 20px;
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      font-size: 1.5rem;
      color: #222;
      min-height: 80px;
    }
    #count {
      margin-top: 10px;
      font-size: 1rem;
      color: #555;
    }
    .fade-in {
      animation: fadeIn 0.5s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .all-questions, .manage-section {
      margin-top: 30px;
      padding: 15px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      font-size: 1rem;
      display: none;
      text-align: left;
      max-width: 500px;
      margin-left: auto;
      margin-right: auto;
    }
    .all-questions ul {
      padding-left: 20px;
    }
    .manage-section textarea {
      width: 100%;
      height: 100px;
    }
    .question-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 5px;
    }
    .question-item button {
      background-color: #e74c3c;
      font-size: 0.8rem;
      padding: 4px 8px;
    }
  </style>
</head>
<body>
  <h1>밸런스 게임 질문 뽑기</h1>
  <div class="buttons">
    <button onclick="pickQuestion()">질문 뽑기</button>
    <button onclick="resetQuestions()">다시 시작</button>
    <button onclick="toggleAllQuestions()">모든 질문 보기</button>
    <button onclick="toggleManageQuestions()">질문 관리</button>
  </div>
  <div class="question-box" id="questionBox">버튼을 눌러 질문을 뽑아보세요!</div>
  <div id="count">0 / 10</div>

  <div class="all-questions" id="allQuestions">
    <h3>모든 질문 목록</h3>
    <ul id="questionList"></ul>
  </div>

  <div class="manage-section" id="manageSection">
    <h3>질문 관리</h3>
    <textarea id="manageInput"></textarea><br>
    <button onclick="saveQuestions()">질문 저장</button>
    <button onclick="addQuestion()">질문 추가</button>
  </div>

  <script>
    let originalQuestions = [
      "모든 슬픔을 없애기 vs 모든 기쁨을 없애기",
      "죽는 순간을 미리 알기 vs 죽는 순간을 모른 채 살기",
      "행복하지만 의미 없는 삶 vs 의미 있지만 고통스러운 삶",
      "불타는 연애 vs 편안한 우정 같은 연애",
      "나를 100% 이해하는 연인 vs 나를 100% 설레게 하는 연인",
      "평생 슬픔을 못 느끼는 삶 vs 평생 행복을 못 느끼는 삶",
      "인류 전체를 위해 희생 vs 내 가족과 나만 지키기",
      "1년 동안 휴대폰 없이 살기 vs 1년 동안 친구 없이 살기",
      "돈은 풍족하지만 시간이 없음 vs 시간은 많지만 돈이 없음",
      "사랑 없는 안정적인 관계 vs 열정적이지만 불안정한 관계"
    ];

    let questions = [...originalQuestions];
    let usedQuestions = [];

    function pickQuestion() {
      if (questions.length === 0) {
        document.getElementById("questionBox").innerText = "모든 질문을 다 뽑았습니다!";
        return;
      }
      const randomIndex = Math.floor(Math.random() * questions.length);
      const question = questions.splice(randomIndex, 1)[0];
      usedQuestions.push(question);
      const box = document.getElementById("questionBox");
      box.classList.remove("fade-in");
      void box.offsetWidth;
      box.classList.add("fade-in");
      box.innerText = question;
      updateCount();
    }

    function resetQuestions() {
      questions = [...originalQuestions];
      usedQuestions = [];
      document.getElementById("questionBox").innerText = "다시 시작합니다! 질문을 뽑아보세요!";
      updateCount();
    }

    function updateCount() {
      document.getElementById("count").innerText = `${usedQuestions.length} / ${originalQuestions.length}`;
    }

    function toggleAllQuestions() {
      const allQuestionsDiv = document.getElementById("allQuestions");
      renderAllQuestions();
      allQuestionsDiv.style.display = allQuestionsDiv.style.display === "none" ? "block" : "none";
    }

    function renderAllQuestions() {
      const list = document.getElementById("questionList");
      list.innerHTML = '';
      originalQuestions.forEach((q, index) => {
        const li = document.createElement('li');
        li.classList.add('question-item');
        li.innerHTML = `${q} <button onclick="removeQuestion(${index})">삭제</button>`;
        list.appendChild(li);
      });
    }

    function toggleManageQuestions() {
      const manageDiv = document.getElementById("manageSection");
      const textArea = document.getElementById("manageInput");
      textArea.value = originalQuestions.join("\n");
      manageDiv.style.display = manageDiv.style.display === "none" ? "block" : "none";
    }

    function saveQuestions() {
      const textArea = document.getElementById("manageInput");
      originalQuestions = textArea.value.split("\n").map(q => q.trim()).filter(q => q);
      resetQuestions();
      renderAllQuestions();
      alert("질문이 저장되었습니다.");
    }

    function addQuestion() {
      const textArea = document.getElementById("manageInput");
      const newQuestion = prompt("추가할 질문을 입력하세요:");
      if (newQuestion) {
        originalQuestions.push(newQuestion);
        textArea.value = originalQuestions.join("\n");
        resetQuestions();
        renderAllQuestions();
      }
    }

    function removeQuestion(index) {
      if (confirm("이 질문을 삭제할까요?")) {
        originalQuestions.splice(index, 1);
        resetQuestions();
        renderAllQuestions();
        document.getElementById("manageInput").value = originalQuestions.join("\n");
      }
    }
  </script>
</body>
</html>
